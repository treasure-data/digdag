

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Release 0.5.0 &mdash; Digdag 0.8 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
    <link rel="top" title="Digdag 0.8 documentation" href="../index.html"/>
        <link rel="up" title="Release Notes" href="../releases.html"/>
        <link rel="next" title="Release 0.4.3" href="release-0.4.3.html"/>
        <link rel="prev" title="Release 0.5.1" href="release-0.5.1.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Digdag
          

          
          </a>

          
            
            
              <div class="version">
                0.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow_definition.html">Workflow definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scheduling_workflow.html">Scheduling workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operators.html">Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../command_reference.html">Command reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_api.html">Language API - Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ruby_api.html">Language API - Ruby</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../releases.html">Release Notes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="release-0.8.5.html">Release 0.8.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.8.4.html">Release 0.8.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.8.3.html">Release 0.8.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.8.2.html">Release 0.8.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.8.1.html">Release 0.8.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.8.0.html">Release 0.8.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.7.1.html">Release 0.7.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.7.0.html">Release 0.7.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.6.1.html">Release 0.6.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.6.0.html">Release 0.6.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.5.9.html">Release 0.5.9</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.5.8.html">Release 0.5.8</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.5.7.html">Release 0.5.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.5.6.html">Release 0.5.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.5.5.html">Release 0.5.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.5.4.html">Release 0.5.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.5.3.html">Release 0.5.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.5.2.html">Release 0.5.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.5.1.html">Release 0.5.1</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Release 0.5.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cli-changes">CLI changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#client-mode-changes">Client-mode changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#server-mode-changes">Server-mode changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#general-changes">General changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#release-date">Release Date</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="release-0.4.3.html">Release 0.4.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.4.2.html">Release 0.4.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.4.1.html">Release 0.4.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.4.0.html">Release 0.4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.3.6.html">Release 0.3.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.3.5.html">Release 0.3.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.3.4.html">Release 0.3.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.3.3.html">Release 0.3.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.3.2.html">Release 0.3.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.3.1.html">Release 0.3.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.3.0.html">Release 0.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.2.8.html">Release 0.2.8</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.2.7.html">Release 0.2.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.2.6.html">Release 0.2.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.2.5.html">Release 0.2.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.2.4.html">Release 0.2.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.2.3.html">Release 0.2.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.2.2.html">Release 0.2.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.2.1.html">Release 0.2.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-0.2.0.html">Release 0.2.0</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Digdag</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../releases.html">Release Notes</a> &raquo;</li>
      
    <li>Release 0.5.0</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/releases/release-0.5.0.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="release-0-5-0">
<h1>Release 0.5.0<a class="headerlink" href="#release-0-5-0" title="Permalink to this headline">¶</a></h1>
<div class="section" id="cli-changes">
<h2>CLI changes<a class="headerlink" href="#cli-changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Setting parameters in command line (<code class="docutils literal"><span class="pre">-p</span> <span class="pre">KEY=VALUE</span></code>) accepts dot-separated keys to set a nested value. For example, <code class="docutils literal"><span class="pre">-p</span> <span class="pre">td.apikey=value</span></code> sets <code class="docutils literal"><span class="pre">{td:</span> <span class="pre">{apikey:</span> <span class="pre">value}}</span></code>.</li>
</ul>
</div>
<div class="section" id="client-mode-changes">
<h2>Client-mode changes<a class="headerlink" href="#client-mode-changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">start</span></code> command requires <code class="docutils literal"><span class="pre">--session</span></code> argument instead of <code class="docutils literal"><span class="pre">--now</span></code> or zoned timestamp.</li>
<li><code class="docutils literal"><span class="pre">start</span></code> command accepts <code class="docutils literal"><span class="pre">--revision</span> <span class="pre">&lt;name&gt;</span></code> option to run a workflow using a past revision.</li>
<li>Added <code class="docutils literal"><span class="pre">retry</span></code> command.</li>
<li><code class="docutils literal"><span class="pre">workflows</span></code> command accepts repository name as an extra command line argument instead of -r, &#8211;repository option.</li>
<li><code class="docutils literal"><span class="pre">backfill</span></code> command no longer accepts <code class="docutils literal"><span class="pre">-R</span></code> as an alias of <code class="docutils literal"><span class="pre">--attempt-name</span></code>.</li>
<li>Added <code class="docutils literal"><span class="pre">attempts</span></code> command. <code class="docutils literal"><span class="pre">session</span></code> command no longer accepts <code class="docutils literal"><span class="pre">--with-retry</span></code> (use <code class="docutils literal"><span class="pre">attempts</span></code> command instead).</li>
</ul>
</div>
<div class="section" id="server-mode-changes">
<h2>Server-mode changes<a class="headerlink" href="#server-mode-changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/attempts</span></code> endpoint requires workflow id instead of a combination of repository name, revision name, and workflow name. This makes the request idempotent and deterministic.</li>
<li>Added <code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/workflows/{id}/truncated_session_time</span></code> to calculate a session time using the workflow&#8217;s time zone. This API is useful to prepare a new session attempt.</li>
<li>Added <code class="docutils literal"><span class="pre">/api/workflow?repository=&lt;name&gt;&amp;name=&lt;name&gt;[&amp;revision=&lt;name&gt;]</span></code> endpoint. This API is useful to lookup a workflow by name.</li>
<li>Added <code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/workflows/{id}</span></code> endpoint.</li>
<li><code class="docutils literal"><span class="pre">/api/repository</span></code> and <code class="docutils literal"><span class="pre">/api/repositories/{id}</span></code> endpoints no longer accept <code class="docutils literal"><span class="pre">?revision=&lt;name&gt;</span></code> parameter. These endpoints return always repositories with the last revision name.</li>
<li><code class="docutils literal"><span class="pre">/api/schedules</span></code>, <code class="docutils literal"><span class="pre">/api/schedules/{id}</span></code>, and <code class="docutils literal"><span class="pre">/api/schedules/{id}/skip</span></code> endpoints return workflow id in addition to workflow name.</li>
<li><code class="docutils literal"><span class="pre">/api/attempts</span></code>, <code class="docutils literal"><span class="pre">/api/attempts/{id}</span></code>, <code class="docutils literal"><span class="pre">/api/attempts/{id}/retries</span></code>, <code class="docutils literal"><span class="pre">/api/schedules/{id}/backfill</span></code>, <code class="docutils literal"><span class="pre">/api/repositories/{id}/workflow</span></code> and <code class="docutils literal"><span class="pre">/api/repositories/{id}/workflows</span></code> endpoints return a session attempt with optional workflow id in addition to workflow name.</li>
<li><code class="docutils literal"><span class="pre">/api/schedules</span></code>, <code class="docutils literal"><span class="pre">/api/schedules/{id}</span></code>, and <code class="docutils literal"><span class="pre">/api/schedules/{id}/skip</span></code> endpoints return nextRunTime in ISO timestamp format in UTC instead of UNIX timestamp, and nextScheduleTime in ISO timestamp format with zone offset.</li>
<li><code class="docutils literal"><span class="pre">/api/schedules/{id}/backfill</span></code> endpoint requires fromTime parameter in ISO timestamp format with zone offset instead of UNIX timestamp.</li>
<li><code class="docutils literal"><span class="pre">/api/schedules/{id}/skip</span></code> endpoint requires fromTime and nextRunTime in ISO timestamp format with zone offset instead of UNIX timestamp. It requires nextTime in ISO timestamp with or without zone offset instead of UNIX timestamp.</li>
</ul>
</div>
<div class="section" id="general-changes">
<h2>General changes<a class="headerlink" href="#general-changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added <code class="docutils literal"><span class="pre">workflow_configs.timezone</span></code> column on database. This is not backward comptible if the data is persistent in H2 database file or PostgreSQL. Migration script is not available at least at this point.</li>
</ul>
</div>
<div class="section" id="release-date">
<h2>Release Date<a class="headerlink" href="#release-date" title="Permalink to this headline">¶</a></h2>
<p>2016-03-30</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="release-0.4.3.html" class="btn btn-neutral float-right" title="Release 0.4.3" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="release-0.5.1.html" class="btn btn-neutral" title="Release 0.5.1" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, 2016, Digdag Project.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.8',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>